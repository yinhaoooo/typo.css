语句ID,sql语句,总执行时间/ms,平均执行时间/ms,最小执行时间/ms,oracle时间/ms,次数,pg改动,备注
1,SELECT from_uid FROM POM_BACKPOINTER INNER JOIN POM_uid_scratch_ref t11 ON to_uid = t11.auid LEFT JOIN POM_uid_scratch_ref t12 ON from_uid = t12.auid WHERE t12.auid IS NULL UNION ALL SELECT puid FROM PIMANRELATION INNER JOIN POM_uid_scratch_ref s21 ON rprimary_objectu = s21.auid LEFT JOIN POM_uid_scratch_ref s22 ON puid = s22.auid WHERE s22.auid IS NULL UNION ALL SELECT puid FROM PIMANRELATION INNER JOIN POM_uid_scratch_ref s31 ON rsecondary_objectu = s31.auid LEFT JOIN POM_uid_scratch_ref s32 ON puid = s32.auid WHERE s32.auid IS NULL,455997.0201,91199.40403,2.228966,,5,,有临时表
2,"WITH CTE_1 AS (SELECT t_03.puid, t_03.rparent_bvru FROM PPSALTERNATELIST t_01 , PALT_ITEMS t_02 , PPSOCCURRENCE t_03 WHERE ( ( t_02.pvalu_0 IN  ($1 , $2 , $3  ) AND ( t_01.puid = t_03.ralternate_etc_refu ) ) AND ( t_01.puid = t_02.puid ) ) UNION SELECT t_04.puid, t_04.rparent_bvru FROM PPSOCCURRENCE t_04 WHERE t_04.rchild_itemu IN  ($4 , $5 , $6  ) )  SELECT t_03.puid FROM CTE_1 t_01 , PSTRUCTURE_REVISIONS t_02 , PITEMREVISION t_03 WHERE ( ( ( t_01.rparent_bvru = t_02.pvalu_0 ) AND ( t_03.puid = t_02.puid ) ) AND ( t_02.puid = t_03.puid ) ) UNION  ( SELECT t_010.puid FROM CTE_1 t_08 , PSTRUCTURE_REVISIONS t_09 , PITEMREVISION t_010 , PWORKSPACEOBJECT t_011 , PFND0ABSTRACTOCCREVISION t_012 , PFND0RELEVANTBVR t_013 WHERE ( ( ( ( ( t_08.rparent_bvru = t_012.puid ) AND ( t_011.rwso_threadu = t_013.rfnd0Occurrenceu ) ) AND ( t_013.rfnd0Bvru = t_09.pvalu_0 ) ) AND ( t_010.puid = t_09.puid ) ) AND ( t_011.puid = t_012.puid AND t_09.puid = t_010.puid ) ) UNION SELECT t_020.puid FROM CTE_1 t_014 , PWORKSPACEOBJECT t_015 , PFND0ABSTRACTOCCREVISION t_016 , PFND0ABSTRACTOCC t_017 , PPSBOMVIEWREVISION t_018 , PSTRUCTURE_REVISIONS t_019 , PITEMREVISION t_020 , PPSBOMVIEW t_021 WHERE ( ( ( ( ( ( ( ( t_014.rparent_bvru = t_016.puid ) AND ( t_015.rwso_threadu = t_017.puid ) ) AND ( t_017.rfnd0BOMViewu = t_018.rbom_viewu ) ) AND ( t_018.puid = t_019.pvalu_0 ) ) AND ( t_019.puid = t_020.puid ) ) AND ( t_018.rbom_viewu = t_021.puid ) ) AND ( t_021.pfnd0StructManagementMode = $7 ) ) AND ( t_015.puid = t_016.puid AND t_019.puid = t_020.puid ) ) )",44463.09673,7410.516122,6674.325323,2500,6,,自己调用
3,"prepare emp (text) as WITH CTE_1 AS (SELECT t_03.puid, t_03.rparent_bvru FROM PPSALTERNATELIST t_01 , PALT_ITEMS t_02 , PPSOCCURRENCE t_03 WHERE ( ( t_02.pvalu_0 IN  ($1 , $2  ) AND ( t_01.puid = t_03.ralternate_etc_refu ) ) AND ( t_01.puid = t_02.puid ) ) UNION SELECT t_04.puid, t_04.rparent_bvru FROM PPSOCCURRENCE t_04 WHERE t_04.rchild_itemu IN  ($3 , $4  ) )  SELECT t_07.puid FROM CTE_1 t_05 , PSTRUCTURE_REVISIONS t_06 , PITEMREVISION t_07 WHERE ( ( ( t_05.rparent_bvru = t_06.pvalu_0 ) AND ( t_07.puid = t_06.puid ) ) AND ( t_06.puid = t_07.puid ) ) UNION  ( SELECT t_010.puid FROM CTE_1 t_08 , PSTRUCTURE_REVISIONS t_09 , PITEMREVISION t_010 , PWORKSPACEOBJECT t_011 , PFND0ABSTRACTOCCREVISION t_012 , PFND0RELEVANTBVR t_013 WHERE ( ( ( ( ( t_08.rparent_bvru = t_012.puid ) AND ( t_011.rwso_threadu = t_013.rfnd0Occurrenceu ) ) AND ( t_013.rfnd0Bvru = t_09.pvalu_0 ) ) AND ( t_010.puid = t_09.puid ) ) AND ( t_011.puid = t_012.puid AND t_09.puid = t_010.puid ) ) UNION SELECT t_020.puid FROM CTE_1 t_014 , PWORKSPACEOBJECT t_015 , PFND0ABSTRACTOCCREVISION t_016 , PFND0ABSTRACTOCC t_017 , PPSBOMVIEWREVISION t_018 , PSTRUCTURE_REVISIONS t_019 , PITEMREVISION t_020 , PPSBOMVIEW t_021 WHERE ( ( ( ( ( ( ( ( t_014.rparent_bvru = t_016.puid ) AND ( t_015.rwso_threadu = t_017.puid ) ) AND ( t_017.rfnd0BOMViewu = t_018.rbom_viewu ) ) AND ( t_018.puid = t_019.pvalu_0 ) ) AND ( t_019.puid = t_020.puid ) ) AND ( t_018.rbom_viewu = t_021.puid ) ) AND ( t_021.pfnd0StructManagementMode = $5 ) ) AND ( t_015.puid = t_016.puid AND t_019.puid = t_020.puid ) ) )",43439.35643,7239.892738,7049.360911,,6,,自己调用
4,"WITH CTE_1 AS (SELECT t_03.puid, t_03.rparent_bvru FROM PPSALTERNATELIST t_01 , PALT_ITEMS t_02 , PPSOCCURRENCE t_03 WHERE ( ( t_02.pvalu_0 IN  ($1 , $2  ) AND ( t_01.puid = t_03.ralternate_etc_refu ) ) AND ( t_01.puid = t_02.puid ) ) UNION SELECT t_04.puid, t_04.rparent_bvru FROM PPSOCCURRENCE t_04 WHERE t_04.rchild_itemu IN  ($3 , $4  ) )  SELECT t_07.puid FROM CTE_1 t_05 , PSTRUCTURE_REVISIONS t_06 , PITEMREVISION t_07 WHERE ( ( ( t_05.rparent_bvru = t_06.pvalu_0 ) AND ( t_07.puid = t_06.puid ) ) AND ( t_06.puid = t_07.puid ) ) UNION  ( SELECT t_010.puid FROM CTE_1 t_08 , PSTRUCTURE_REVISIONS t_09 , PITEMREVISION t_010 , PWORKSPACEOBJECT t_011 , PFND0ABSTRACTOCCREVISION t_012 , PFND0RELEVANTBVR t_013 WHERE ( ( ( ( ( t_08.rparent_bvru = t_012.puid ) AND ( t_011.rwso_threadu = t_013.rfnd0Occurrenceu ) ) AND ( t_013.rfnd0Bvru = t_09.pvalu_0 ) ) AND ( t_010.puid = t_09.puid ) ) AND ( t_011.puid = t_012.puid AND t_09.puid = t_010.puid ) ) UNION SELECT t_020.puid FROM CTE_1 t_014 , PWORKSPACEOBJECT t_015 , PFND0ABSTRACTOCCREVISION t_016 , PFND0ABSTRACTOCC t_017 , PPSBOMVIEWREVISION t_018 , PSTRUCTURE_REVISIONS t_019 , PITEMREVISION t_020 , PPSBOMVIEW t_021 WHERE ( ( ( ( ( ( ( ( t_014.rparent_bvru = t_016.puid ) AND ( t_015.rwso_threadu = t_017.puid ) ) AND ( t_017.rfnd0BOMViewu = t_018.rbom_viewu ) ) AND ( t_018.puid = t_019.pvalu_0 ) ) AND ( t_019.puid = t_020.puid ) ) AND ( t_018.rbom_viewu = t_021.puid ) ) AND ( t_021.pfnd0StructManagementMode = $5 ) ) AND ( t_015.puid = t_016.puid AND t_019.puid = t_020.puid ) ) )",6292722.759,7038.839775,6.359913,2500,894,/*+nestloop(t_05 t_06 t_07)*/,未调用到hint
5,"SELECT  DISTINCT t_01.puid FROM PMECOLLABORATIONCONTEXT t_01 , VL10N_OBJECT_NAME t_02 WHERE (  UPPER(t_02.pval_0)  LIKE  UPPER( $1  )  AND ( t_02.locale IN  ($2 , $3  ) AND ( ( t_01.puid = t_02.puid ) AND t_02.status IN  ($4 , $5  ) ) ) )",55868.14045,4655.678371,4.075003,,12,,
6,"/*+nestloop(t_05 t_06 t_07)*/
WITH CTE_1 AS (SELECT t_03.puid, t_03.rparent_bvru FROM PPSALTERNATELIST t_01 , PALT_ITEMS t_02 , PPSOCCURRENCE t_03 WHERE ( ( t_02.pvalu_0 IN  ($1 , $2  ) AND ( t_01.puid = t_03.ralternate_etc_refu ) ) AND ( t_01.puid =t_02.puid ) ) UNION SELECT t_04.puid, t_04.rparent_bvru FROM PPSOCCURRENCE t_04 WHERE t_04.rchild_itemu IN  ($3 , $4  ) )  SELECT t_07.puid FROM CTE_1 t_05 , PSTRUCTURE_REVISIONS t_06 , PITEMREVISION t_07 WHERE ( ( (t_05.rparent_bvru = t_06.pvalu_0 ) AND ( t_07.puid = t_06.puid ) ) AND ( t_06.puid = t_07.puid ) ) UNION  ( SELECT t_010.puid FROM CTE_1 t_08 , PSTRUCTURE_REVISIONS t_09 , PITEMREVISION t_010 , PWORKSPACEOBJECT t_011 ,PFND0ABSTRACTOCCREVISION t_012 , PFND0RELEVANTBVR t_013 WHERE ( ( ( ( ( t_08.rparent_bvru = t_012.puid ) AND ( t_011.rwso_threadu = t_013.rfnd0Occurrenceu ) ) AND ( t_013.rfnd0Bvru = t_09.pvalu_0 ) ) AND ( t_010.puid =t_09.puid ) ) AND ( t_011.puid = t_012.puid AND t_09.puid = t_010.puid ) ) UNION SELECT t_020.puid FROM CTE_1 t_014 , PWORKSPACEOBJECT t_015 , PFND0ABSTRACTOCCREVISION t_016 , PFND0ABSTRACTOCC t_017 , PPSBOMVIEWREVISION t_018 ,PSTRUCTURE_REVISIONS t_019 , PITEMREVISION t_020 , PPSBOMVIEW t_021 WHERE ( ( ( ( ( ( ( ( t_014.rparent_bvru = t_016.puid ) AND ( t_015.rwso_threadu = t_017.puid ) ) AND ( t_017.rfnd0BOMViewu = t_018.rbom_viewu ) ) AND (t_018.puid = t_019.pvalu_0 ) ) AND ( t_019.puid = t_020.puid ) ) AND ( t_018.rbom_viewu = t_021.puid ) ) AND ( t_021.pfnd0StructManagementMode = $5 ) ) AND ( t_015.puid = t_016.puid AND t_019.puid = t_020.puid ) ) )",337598.2126,3751.091252,0.068136,,90,/*+nestloop(t_05 t_06 t_07)*/,自己调用
7,"SELECT  DISTINCT t_02.puid FROM PWORKSPACEOBJECT t_01 , PMFG0MEPLANTBOPREVISION t_02 , PSTRUCTURE_REVISIONS t_03 , PPSBOMVIEWREVISION t_04 , PPSOCCURRENCE t_05 , PPSBOMVIEWREVISION t_06 , PPSOCCURRENCE t_07 , PITEM t_08 , PMEOP t_09 , PMFG0MEPROCSTATNREVISION t_010 , PSTRUCTURE_REVISIONS t_011 , PITEMREVISION t_012 , PMFG0MEPROCSTATN t_013 , PMFG0MEPROCLINEREVISION t_014 , PSTRUCTURE_REVISIONS t_015 , PITEMREVISION t_016 , PMFG0MEPROCLINE t_017 , PPSOCCURRENCE t_018 , PPSBOMVIEWREVISION t_019 WHERE ( ( ( ( t_03.pvalu_0 = t_019.puid ) AND ( ( t_019.puid = t_018.rparent_bvru ) AND ( ( t_018.rchild_itemu = t_017.puid ) AND ( ( t_017.puid = t_016.ritems_tagu ) AND ( ( t_015.pvalu_0 = t_04.puid ) AND ( ( t_04.puid = t_05.rparent_bvru ) AND ( ( t_05.rchild_itemu = t_013.puid ) AND ( ( t_013.puid = t_012.ritems_tagu ) AND ( ( t_011.pvalu_0 = t_06.puid ) AND ( ( t_06.puid = t_07.rparent_bvru ) AND ( ( t_07.rchild_itemu = t_09.puid ) AND  ( UPPER(t_08.pitem_id)  =  UPPER( $1  )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_01.pactive_seq != $2  ) ) AND ( t_01.puid = t_02.puid AND t_02.puid = t_03.puid AND t_010.puid = t_011.puid AND t_011.puid = t_012.puid AND t_08.puid = t_09.puid AND t_014.puid = t_015.puid AND t_015.puid = t_016.puid ) )",23133.79977,2313.379977,10.584113,,10,,
8,"SELECT  DISTINCT t_01.puid FROM PH6HWPARTREVISION t_01 , PITEMREVISION t_02 , PPSOCCURRENCE t_03 , PWORKSPACEOBJECT t_04 , PSTRUCTURE_REVISIONS t_05 , PH6HWPARTREVISION t_06 , PITEMREVISION t_07 , PITEM t_08 , PSTRUCTURE_REVISIONS t_09 , PITEMREVISION t_010 , PWORKSPACEOBJECT t_011 , PPSOCCURRENCE t_012 , PH6HWPART t_013 , PH6HWPART t_014 , PITEM t_015 WHERE ( (  UPPER(t_01.ph6CategoryCode)  IN  ( UPPER( $1  ) ,  UPPER( $2  ) ,  UPPER( $3  ) ,  UPPER( $4  ) ,  UPPER( $5  ) ,  UPPER( $6  ) ,  UPPER( $7  ) ,  UPPER( $8  ) ,  UPPER( $9  ) ,  UPPER( $10   ) ,  UPPER( $11   ) ,  UPPER( $12   ) ,  UPPER( $13   ) ,  UPPER( $14   ) ,  UPPER( $15   ) ,  UPPER( $16   ) ,  UPPER( $17   ) ,  UPPER( $18   ) ,  UPPER( $19   ) ,  UPPER( $20   ) ,  UPPER( $21   ) ,  UPPER( $22   ) ,  UPPER( $23   ) ,  UPPER( $24   ) ,  UPPER( $25   ) ,  UPPER( $26   ) ,  UPPER( $27   ) ,  UPPER( $28   ) ,  UPPER( $29   ) ,  UPPER( $30   ) ,  UPPER( $31   ) ,  UPPER( $32   ) ,  UPPER( $33   ) ,  UPPER( $34   ) ,  UPPER( $35   ) ,  UPPER( $36   ) ,  UPPER( $37   ) ,  UPPER( $38   ) ,  UPPER( $39   ) ,  UPPER( $40   ) ,  UPPER( $41   ) ,  UPPER( $42   ) ,  UPPER( $43   ) ,  UPPER( $44   ) ,  UPPER( $45   ) ,  UPPER( $46   ) ,  UPPER( $47   ) ,  UPPER( $48   )  ) AND ( ( ( t_02.ritems_tagu = t_013.puid ) AND ( ( t_013.puid = t_012.rchild_itemu ) AND ( ( t_012.rparent_bvru = t_011.aoid ) AND ( ( t_011.aoid = t_09.pvalu_0 ) AND ( ( t_010.ritems_tagu = t_08.puid ) AND ( ( t_08.puid = t_03.rchild_itemu ) AND ( ( t_03.rparent_bvru = t_04.aoid ) AND ( ( t_04.aoid = t_05.pvalu_0 ) AND  ( UPPER(t_06.ph6PDMVersion)  =  UPPER( $49   )  ) ) ) ) ) ) ) ) ) AND ( ( t_02.ritems_tagu = t_013.puid ) AND ( ( t_013.puid = t_012.rchild_itemu ) AND ( ( t_012.rparent_bvru = t_011.aoid ) AND ( ( t_011.aoid = t_09.pvalu_0 ) AND ( ( t_010.ritems_tagu = t_08.puid ) AND ( ( t_08.puid = t_03.rchild_itemu ) AND ( ( t_03.rparent_bvru = t_04.aoid ) AND ( ( t_04.aoid = t_05.pvalu_0 ) AND ( ( t_07.ritems_tagu = t_014.puid ) AND  ( UPPER(t_015.pitem_id)  =  UPPER( $50   )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_05.puid = t_06.puid AND t_06.puid = t_07.puid AND t_014.puid = t_015.puid AND t_01.puid = t_02.puid AND t_09.puid = t_010.puid ) ) AND (t_04.arev_category IN ($51,$52)) AND (t_011.arev_category IN ($53,$54))",7036.777994,1759.194499,1647.505499,,4,,
9,"SELECT  DISTINCT t_02.puid, t_01.pobject_type, t_02.rparent_processu,t_02.rparent_processc, t_02.rresponsible_partyu,t_02.rresponsible_partyc, t_02.ptask_result FROM PWORKSPACEOBJECT t_01 , PEPMTASK t_02 , PIMANRELATION t_03 , PFND0EPMINTERPROCESSTASK t_04 WHERE ( ( ( ( t_02.rresponsible_partyu = $1  ) AND ( t_03.rprimary_objectu NOT IN ( SELECT * FROM PRef1TT )  AND ( t_02.pstate_value = $2::int4  ) ) ) AND ( t_03.rprimary_objectu = t_02.puid ) ) AND ( t_01.puid = t_02.puid AND t_03.puid = t_04.puid ) )",8686.657695,1447.776283,1411.147806,,6,,有临时表
10,"SELECT  DISTINCT t_02.puid FROM PWORKSPACEOBJECT t_01 , PMFG0MEPLANTBOPREVISION t_02 , PSTRUCTURE_REVISIONS t_03 , PPSBOMVIEWREVISION t_04 , PPSOCCURRENCE t_05 , PPSBOMVIEWREVISION t_06 , PPSOCCURRENCE t_07 , PITEM t_08 , PMEOP t_09 , PMFG0MEPROCSTATNREVISION t_010 , PSTRUCTURE_REVISIONS t_011 , PITEMREVISION t_012 , PMFG0MEPROCSTATN t_013 , PMFG0MEPROCLINEREVISION t_014 , PSTRUCTURE_REVISIONS t_015 , PITEMREVISION t_016 , PMFG0MEPROCLINE t_017 , PPSOCCURRENCE t_018 , PPSBOMVIEWREVISION t_019 WHERE ( ( ( ( t_03.pvalu_0 = t_019.puid ) AND ( ( t_019.puid = t_018.rparent_bvru ) AND ( ( t_018.rchild_itemu = t_017.puid ) AND ( ( t_017.puid = t_016.ritems_tagu ) AND ( ( t_015.pvalu_0 = t_04.puid ) AND ( ( t_04.puid = t_05.rparent_bvru ) AND ( ( t_05.rchild_itemu = t_013.puid ) AND ( ( t_013.puid = t_012.ritems_tagu ) AND ( ( t_011.pvalu_0 = t_06.puid ) AND ( ( t_06.puid = t_07.rparent_bvru ) AND ( ( t_07.rchild_itemu = t_09.puid ) AND  ( UPPER(t_08.pitem_id)  =  UPPER( $1  )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_01.pactive_seq != $2::int4  ) ) AND ( t_01.puid = t_02.puid AND t_02.puid = t_03.puid AND t_08.puid = t_09.puid AND t_014.puid = t_015.puid AND t_015.puid = t_016.puid AND t_010.puid = t_011.puid AND t_011.puid = t_012.puid ) )",4096.248566,1365.416189,1342.500709,,3,,
11,"SELECT  DISTINCT t_02.puid FROM PWORKSPACEOBJECT t_01 , PMFG0MEPLANTBOPREVISION t_02 , PSTRUCTURE_REVISIONS t_03 , PPSBOMVIEWREVISION t_04 , PPSOCCURRENCE t_05 , PPSBOMVIEWREVISION t_06 , PPSOCCURRENCE t_07 , PITEM t_08 , PMEOP t_09 , PMFG0MEPROCSTATNREVISION t_010 , PSTRUCTURE_REVISIONS t_011 , PITEMREVISION t_012 , PMFG0MEPROCSTATN t_013 , PMFG0MEPROCLINEREVISION t_014 , PSTRUCTURE_REVISIONS t_015 , PITEMREVISION t_016 , PMFG0MEPROCLINE t_017 , PPSOCCURRENCE t_018 , PPSBOMVIEWREVISION t_019 WHERE ( ( ( ( t_03.pvalu_0 = t_019.puid ) AND ( ( t_019.puid = t_018.rparent_bvru ) AND ( ( t_018.rchild_itemu = t_017.puid ) AND ( ( t_017.puid = t_016.ritems_tagu ) AND ( ( t_015.pvalu_0 = t_04.puid ) AND ( ( t_04.puid = t_05.rparent_bvru ) AND ( ( t_05.rchild_itemu = t_013.puid ) AND ( ( t_013.puid = t_012.ritems_tagu ) AND ( ( t_011.pvalu_0 = t_06.puid ) AND ( ( t_06.puid = t_07.rparent_bvru ) AND ( ( t_07.rchild_itemu = t_09.puid ) AND  ( UPPER(t_08.pitem_id)  =  UPPER( $1  )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_01.pactive_seq != $2::int4  ) ) AND ( t_08.puid = t_09.puid AND t_01.puid = t_02.puid AND t_02.puid = t_03.puid AND t_014.puid = t_015.puid AND t_015.puid = t_016.puid AND t_010.puid = t_011.puid AND t_011.puid = t_012.puid ) )",10863.79668,1357.974585,1323.101871,,8,,
12,"SELECT  DISTINCT t_01.puid FROM PH6HWPARTREVISION t_01 , PPSOCCURRENCE t_02 , PWORKSPACEOBJECT t_03 , PSTRUCTURE_REVISIONS t_04 , PH6HWPARTREVISION t_05 , PITEMREVISION t_06 , PH6HWMBAPART t_07 , PH6HWMBAPARTREVISION t_08 , PSTRUCTURE_REVISIONS t_09 , PITEMREVISION t_010 , PWORKSPACEOBJECT t_011 , PPSOCCURRENCE t_012 , PH6HWPART t_013 , PITEM t_014 WHERE ( (  UPPER(t_01.ph6CategoryCode)  IN  ( UPPER( $1  ) ,  UPPER( $2  ) ,  UPPER( $3  ) ,  UPPER( $4  ) ,  UPPER( $5  ) ,  UPPER( $6  ) ,  UPPER( $7  ) ,  UPPER( $8  ) ,  UPPER( $9  ) ,  UPPER( $10   ) ,  UPPER( $11   ) ,  UPPER( $12   ) ,  UPPER( $13   ) ,  UPPER( $14   ) ,  UPPER( $15   ) ,  UPPER( $16   ) ,  UPPER( $17   ) ,  UPPER( $18   ) ,  UPPER( $19   ) ,  UPPER( $20   ) ,  UPPER( $21   ) ,  UPPER( $22   ) ,  UPPER( $23   ) ,  UPPER( $24   ) ,  UPPER( $25   ) ,  UPPER( $26   ) ,  UPPER( $27   ) ,  UPPER( $28   ) ,  UPPER( $29   ) ,  UPPER( $30   ) ,  UPPER( $31   ) ,  UPPER( $32   ) ,  UPPER( $33   ) ,  UPPER( $34   ) ,  UPPER( $35   ) ,  UPPER( $36   ) ,  UPPER( $37   ) ,  UPPER( $38   ) ,  UPPER( $39   ) ,  UPPER( $40   ) ,  UPPER( $41   ) ,  UPPER( $42   ) ,  UPPER( $43   ) ,  UPPER( $44   ) ,  UPPER( $45   ) ,  UPPER( $46   ) ,  UPPER( $47   ) ,  UPPER( $48   )  ) AND ( ( ( t_01.puid = t_012.rchild_itemu ) AND ( ( t_012.rparent_bvru = t_011.aoid ) AND ( ( t_011.aoid = t_09.pvalu_0 ) AND ( ( t_010.ritems_tagu = t_07.puid ) AND ( ( t_07.puid = t_02.rchild_itemu ) AND ( ( t_02.rparent_bvru = t_03.aoid ) AND ( ( t_03.aoid = t_04.pvalu_0 ) AND  ( UPPER(t_05.ph6PDMVersion)  =  UPPER( $49   )  ) ) ) ) ) ) ) ) AND ( ( t_01.puid = t_012.rchild_itemu ) AND ( ( t_012.rparent_bvru = t_011.aoid ) AND ( ( t_011.aoid = t_09.pvalu_0 ) AND ( ( t_010.ritems_tagu = t_07.puid ) AND ( ( t_07.puid = t_02.rchild_itemu ) AND ( ( t_02.rparent_bvru = t_03.aoid ) AND ( ( t_03.aoid = t_04.pvalu_0 ) AND ( ( t_06.ritems_tagu = t_013.puid ) AND  ( UPPER(t_014.pitem_id)  =  UPPER( $50   )  ) ) ) ) ) ) ) ) ) ) ) AND ( t_08.puid = t_09.puid AND t_09.puid = t_010.puid AND t_013.puid = t_014.puid AND t_04.puid = t_05.puid AND t_05.puid = t_06.puid ) ) AND (t_03.arev_category IN ($51,$52)) AND (t_011.arev_category IN ($53,$54))",6768.742473,1353.748495,1324.672905,,5,,
13,"SELECT  DISTINCT t_02.puid FROM PWORKSPACEOBJECT t_01 , PMFG0MEPLANTBOPREVISION t_02 , PSTRUCTURE_REVISIONS t_03 , PPSBOMVIEWREVISION t_04 , PPSOCCURRENCE t_05 , PPSBOMVIEWREVISION t_06 , PPSOCCURRENCE t_07 , PITEM t_08 , PMEOP t_09 , PMFG0MEPROCSTATNREVISION t_010 , PSTRUCTURE_REVISIONS t_011 , PITEMREVISION t_012 , PMFG0MEPROCSTATN t_013 , PMFG0MEPROCLINEREVISION t_014 , PSTRUCTURE_REVISIONS t_015 , PITEMREVISION t_016 , PMFG0MEPROCLINE t_017 , PPSOCCURRENCE t_018 , PPSBOMVIEWREVISION t_019 WHERE ( ( ( ( t_03.pvalu_0 = t_019.puid ) AND ( ( t_019.puid = t_018.rparent_bvru ) AND ( ( t_018.rchild_itemu = t_017.puid ) AND ( ( t_017.puid = t_016.ritems_tagu ) AND ( ( t_015.pvalu_0 = t_04.puid ) AND ( ( t_04.puid = t_05.rparent_bvru ) AND ( ( t_05.rchild_itemu = t_013.puid ) AND ( ( t_013.puid = t_012.ritems_tagu ) AND ( ( t_011.pvalu_0 = t_06.puid ) AND ( ( t_06.puid = t_07.rparent_bvru ) AND ( ( t_07.rchild_itemu = t_09.puid ) AND  ( UPPER(t_08.pitem_id)  =  UPPER( $1  )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_01.pactive_seq != $2::int4  ) ) AND ( t_01.puid = t_02.puid AND t_02.puid = t_03.puid AND t_014.puid = t_015.puid AND t_015.puid = t_016.puid AND t_010.puid = t_011.puid AND t_011.puid = t_012.puid AND t_08.puid = t_09.puid ) )",573645.0449,1352.936427,409.785762,7,424,/*+Parallel( t_05 12 hard)*/,未调用到hint
14,"SELECT  DISTINCT t_01.puid FROM PH6HWPARTREVISION t_01 , PPSOCCURRENCE t_02 , PWORKSPACEOBJECT t_03 , PSTRUCTURE_REVISIONS t_04 , PH6HWPARTREVISION t_05 , PITEMREVISION t_06 , PH6HWMBAPART t_07 , PH6HWMBAPARTREVISION t_08 , PSTRUCTURE_REVISIONS t_09 , PITEMREVISION t_010 , PWORKSPACEOBJECT t_011 , PPSOCCURRENCE t_012 , PH6HWPART t_013 , PITEM t_014 WHERE ( (  UPPER(t_01.ph6CategoryCode)  IN  ( UPPER( $1  ) ,  UPPER( $2  ) ,  UPPER( $3  ) ,  UPPER( $4  ) ,  UPPER( $5  ) ,  UPPER( $6  ) ,  UPPER( $7  ) ,  UPPER( $8  ) ,  UPPER( $9  ) ,  UPPER( $10   ) ,  UPPER( $11   ) ,  UPPER( $12   ) ,  UPPER( $13   ) ,  UPPER( $14   ) ,  UPPER( $15   ) ,  UPPER( $16   ) ,  UPPER( $17   ) ,  UPPER( $18   ) ,  UPPER( $19   ) ,  UPPER( $20   ) ,  UPPER( $21   ) ,  UPPER( $22   ) ,  UPPER( $23   ) ,  UPPER( $24   ) ,  UPPER( $25   ) ,  UPPER( $26   ) ,  UPPER( $27   ) ,  UPPER( $28   ) ,  UPPER( $29   ) ,  UPPER( $30   ) ,  UPPER( $31   ) ,  UPPER( $32   ) ,  UPPER( $33   ) ,  UPPER( $34   ) ,  UPPER( $35   ) ,  UPPER( $36   ) ,  UPPER( $37   ) ,  UPPER( $38   ) ,  UPPER( $39   ) ,  UPPER( $40   ) ,  UPPER( $41   ) ,  UPPER( $42   ) ,  UPPER( $43   ) ,  UPPER( $44   ) ,  UPPER( $45   ) ,  UPPER( $46   ) ,  UPPER( $47   ) ,  UPPER( $48   )  ) AND ( ( ( t_01.puid = t_012.rchild_itemu ) AND ( ( t_012.rparent_bvru = t_011.aoid ) AND ( ( t_011.aoid = t_09.pvalu_0 ) AND ( ( t_010.ritems_tagu = t_07.puid ) AND ( ( t_07.puid = t_02.rchild_itemu ) AND ( ( t_02.rparent_bvru = t_03.aoid ) AND ( ( t_03.aoid = t_04.pvalu_0 ) AND  ( UPPER(t_05.ph6PDMVersion)  =  UPPER( $49   )  ) ) ) ) ) ) ) ) AND ( ( t_01.puid = t_012.rchild_itemu ) AND ( ( t_012.rparent_bvru = t_011.aoid ) AND ( ( t_011.aoid = t_09.pvalu_0 ) AND ( ( t_010.ritems_tagu = t_07.puid ) AND ( ( t_07.puid = t_02.rchild_itemu ) AND ( ( t_02.rparent_bvru = t_03.aoid ) AND ( ( t_03.aoid = t_04.pvalu_0 ) AND ( ( t_06.ritems_tagu = t_013.puid ) AND  ( UPPER(t_014.pitem_id)  =  UPPER( $50   )  ) ) ) ) ) ) ) ) ) ) ) AND ( t_08.puid = t_09.puid AND t_09.puid = t_010.puid AND t_04.puid = t_05.puid AND t_05.puid = t_06.puid AND t_013.puid = t_014.puid ) ) AND (t_03.arev_category IN ($51,$52)) AND (t_011.arev_category IN ($53,$54))",6739.631785,1347.926357,1325.308256,,5,,
15,"SELECT  DISTINCT t_02.puid FROM PWORKSPACEOBJECT t_01 , PMFG0MEPLANTBOPREVISION t_02 , PSTRUCTURE_REVISIONS t_03 , PPSBOMVIEWREVISION t_04 , PPSOCCURRENCE t_05 , PPSBOMVIEWREVISION t_06 , PPSOCCURRENCE t_07 , PITEM t_08 , PMEOP t_09 , PMFG0MEPROCSTATNREVISION t_010 , PSTRUCTURE_REVISIONS t_011 , PITEMREVISION t_012 , PMFG0MEPROCSTATN t_013 , PMFG0MEPROCLINEREVISION t_014 , PSTRUCTURE_REVISIONS t_015 , PITEMREVISION t_016 , PMFG0MEPROCLINE t_017 , PPSOCCURRENCE t_018 , PPSBOMVIEWREVISION t_019 WHERE ( ( ( ( t_03.pvalu_0 = t_019.puid ) AND ( ( t_019.puid = t_018.rparent_bvru ) AND ( ( t_018.rchild_itemu = t_017.puid ) AND ( ( t_017.puid = t_016.ritems_tagu ) AND ( ( t_015.pvalu_0 = t_04.puid ) AND ( ( t_04.puid = t_05.rparent_bvru ) AND ( ( t_05.rchild_itemu = t_013.puid ) AND ( ( t_013.puid = t_012.ritems_tagu ) AND ( ( t_011.pvalu_0 = t_06.puid ) AND ( ( t_06.puid = t_07.rparent_bvru ) AND ( ( t_07.rchild_itemu = t_09.puid ) AND  ( UPPER(t_08.pitem_id)  =  UPPER( $1  )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_01.pactive_seq != $2::int4  ) ) AND ( t_014.puid = t_015.puid AND t_015.puid = t_016.puid AND t_01.puid = t_02.puid AND t_02.puid = t_03.puid AND t_010.puid = t_011.puid AND t_011.puid = t_012.puid AND t_08.puid = t_09.puid ) )",614947.6683,1336.842757,401.062256,7,460,/*+Parallel( t_05 12 hard)*/,未调用到hint
16,"SELECT  DISTINCT t_02.puid FROM PWORKSPACEOBJECT t_01 , PMFG0MEPLANTBOPREVISION t_02 , PSTRUCTURE_REVISIONS t_03 , PPSBOMVIEWREVISION t_04 , PPSOCCURRENCE t_05 , PPSBOMVIEWREVISION t_06 , PPSOCCURRENCE t_07 , PITEM t_08 , PMEOP t_09 , PMFG0MEPROCSTATNREVISION t_010 , PSTRUCTURE_REVISIONS t_011 , PITEMREVISION t_012 , PMFG0MEPROCSTATN t_013 , PMFG0MEPROCLINEREVISION t_014 , PSTRUCTURE_REVISIONS t_015 , PITEMREVISION t_016 , PMFG0MEPROCLINE t_017 , PPSOCCURRENCE t_018 , PPSBOMVIEWREVISION t_019 WHERE ( ( ( ( t_03.pvalu_0 = t_019.puid ) AND ( ( t_019.puid = t_018.rparent_bvru ) AND ( ( t_018.rchild_itemu = t_017.puid ) AND ( ( t_017.puid = t_016.ritems_tagu ) AND ( ( t_015.pvalu_0 = t_04.puid ) AND ( ( t_04.puid = t_05.rparent_bvru ) AND ( ( t_05.rchild_itemu = t_013.puid ) AND ( ( t_013.puid = t_012.ritems_tagu ) AND ( ( t_011.pvalu_0 = t_06.puid ) AND ( ( t_06.puid = t_07.rparent_bvru ) AND ( ( t_07.rchild_itemu = t_09.puid ) AND  ( UPPER(t_08.pitem_id)  =  UPPER( $1  )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_01.pactive_seq != $2::int4  ) ) AND ( t_01.puid = t_02.puid AND t_02.puid = t_03.puid AND t_014.puid = t_015.puid AND t_015.puid = t_016.puid AND t_08.puid = t_09.puid AND t_010.puid = t_011.puid AND t_011.puid = t_012.puid ) )",1842054.049,1336.759107,407.563469,7,1378,/*+Parallel( t_05 12 hard)*/,未调用到hint
17,"SELECT  DISTINCT t_02.puid FROM PWORKSPACEOBJECT t_01 , PMFG0MEPLANTBOPREVISION t_02 , PSTRUCTURE_REVISIONS t_03 , PPSBOMVIEWREVISION t_04 , PPSOCCURRENCE t_05 , PPSBOMVIEWREVISION t_06 , PPSOCCURRENCE t_07 , PITEM t_08 , PMEOP t_09 , PMFG0MEPROCSTATNREVISION t_010 , PSTRUCTURE_REVISIONS t_011 , PITEMREVISION t_012 , PMFG0MEPROCSTATN t_013 , PMFG0MEPROCLINEREVISION t_014 , PSTRUCTURE_REVISIONS t_015 , PITEMREVISION t_016 , PMFG0MEPROCLINE t_017 , PPSOCCURRENCE t_018 , PPSBOMVIEWREVISION t_019 WHERE ( ( ( ( t_03.pvalu_0 = t_019.puid ) AND ( ( t_019.puid = t_018.rparent_bvru ) AND ( ( t_018.rchild_itemu = t_017.puid ) AND ( ( t_017.puid = t_016.ritems_tagu ) AND ( ( t_015.pvalu_0 = t_04.puid ) AND ( ( t_04.puid = t_05.rparent_bvru ) AND ( ( t_05.rchild_itemu = t_013.puid ) AND ( ( t_013.puid = t_012.ritems_tagu ) AND ( ( t_011.pvalu_0 = t_06.puid ) AND ( ( t_06.puid = t_07.rparent_bvru ) AND ( ( t_07.rchild_itemu = t_09.puid ) AND  ( UPPER(t_08.pitem_id)  =  UPPER( $1  )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_01.pactive_seq != $2::int4  ) ) AND ( t_01.puid = t_02.puid AND t_02.puid = t_03.puid AND t_010.puid = t_011.puid AND t_011.puid = t_012.puid AND t_08.puid = t_09.puid AND t_014.puid = t_015.puid AND t_015.puid = t_016.puid ) )",2409541.138,1336.406621,400.291318,7,1803,/*+Parallel( t_05 12 hard)*/,未调用到hint
18,"SELECT  DISTINCT t_02.puid FROM PWORKSPACEOBJECT t_01 , PMFG0MEPLANTBOPREVISION t_02 , PSTRUCTURE_REVISIONS t_03 , PPSBOMVIEWREVISION t_04 , PPSOCCURRENCE t_05 , PPSBOMVIEWREVISION t_06 , PPSOCCURRENCE t_07 , PITEM t_08 , PMEOP t_09 , PMFG0MEPROCSTATNREVISION t_010 , PSTRUCTURE_REVISIONS t_011 , PITEMREVISION t_012 , PMFG0MEPROCSTATN t_013 , PMFG0MEPROCLINEREVISION t_014 , PSTRUCTURE_REVISIONS t_015 , PITEMREVISION t_016 , PMFG0MEPROCLINE t_017 , PPSOCCURRENCE t_018 , PPSBOMVIEWREVISION t_019 WHERE ( ( ( ( t_03.pvalu_0 = t_019.puid ) AND ( ( t_019.puid = t_018.rparent_bvru ) AND ( ( t_018.rchild_itemu = t_017.puid ) AND ( ( t_017.puid = t_016.ritems_tagu ) AND ( ( t_015.pvalu_0 = t_04.puid ) AND ( ( t_04.puid = t_05.rparent_bvru ) AND ( ( t_05.rchild_itemu = t_013.puid ) AND ( ( t_013.puid = t_012.ritems_tagu ) AND ( ( t_011.pvalu_0 = t_06.puid ) AND ( ( t_06.puid = t_07.rparent_bvru ) AND ( ( t_07.rchild_itemu = t_09.puid ) AND  ( UPPER(t_08.pitem_id)  =  UPPER( $1  )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_01.pactive_seq != $2::int4  ) ) AND ( t_08.puid = t_09.puid AND t_01.puid = t_02.puid AND t_02.puid = t_03.puid AND t_010.puid = t_011.puid AND t_011.puid = t_012.puid AND t_014.puid = t_015.puid AND t_015.puid = t_016.puid ) )",1884785.746,1335.780118,403.655734,7,1411,/*+Parallel( t_05 12 hard)*/,未调用到hint
19,"SELECT  DISTINCT t_02.puid FROM PWORKSPACEOBJECT t_01 , PMFG0MEPLANTBOPREVISION t_02 , PSTRUCTURE_REVISIONS t_03 , PPSBOMVIEWREVISION t_04 , PPSOCCURRENCE t_05 , PPSBOMVIEWREVISION t_06 , PPSOCCURRENCE t_07 , PITEM t_08 , PMEOP t_09 , PMFG0MEPROCSTATNREVISION t_010 , PSTRUCTURE_REVISIONS t_011 , PITEMREVISION t_012 , PMFG0MEPROCSTATN t_013 , PMFG0MEPROCLINEREVISION t_014 , PSTRUCTURE_REVISIONS t_015 , PITEMREVISION t_016 , PMFG0MEPROCLINE t_017 , PPSOCCURRENCE t_018 , PPSBOMVIEWREVISION t_019 WHERE ( ( ( ( t_03.pvalu_0 = t_019.puid ) AND ( ( t_019.puid = t_018.rparent_bvru ) AND ( ( t_018.rchild_itemu = t_017.puid ) AND ( ( t_017.puid = t_016.ritems_tagu ) AND ( ( t_015.pvalu_0 = t_04.puid ) AND ( ( t_04.puid = t_05.rparent_bvru ) AND ( ( t_05.rchild_itemu = t_013.puid ) AND ( ( t_013.puid = t_012.ritems_tagu ) AND ( ( t_011.pvalu_0 = t_06.puid ) AND ( ( t_06.puid = t_07.rparent_bvru ) AND ( ( t_07.rchild_itemu = t_09.puid ) AND  ( UPPER(t_08.pitem_id)  =  UPPER( $1  )  ) ) ) ) ) ) ) ) ) ) ) ) AND ( t_01.pactive_seq != $2::int4  ) ) AND ( t_01.puid = t_02.puid AND t_02.puid = t_03.puid AND t_010.puid = t_011.puid AND t_011.puid = t_012.puid AND t_014.puid = t_015.puid AND t_015.puid = t_016.puid AND t_08.puid = t_09.puid ) )",2484405.147,1335.701692,402.465552,7,1860,/*+Parallel( t_05 12 hard)*/,未调用到hint
,,,,,,,,
,,,,,,,,
总结：,本次调优针对1秒以上百次调用的sql，看目前慢sql分布 大概就两条sql的问题,,,,,,,
